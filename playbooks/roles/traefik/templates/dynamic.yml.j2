# /opt/traefik/dynamic.yml

http:
  routers:
    traefik-dashboard:
      rule: "Host(`traefik.pearsalls.online`)"
      entryPoints:
        - websecure
      service: api@internal
      tls:
        certResolver: cloudflare
      middlewares:
        - traefik-auth

  middlewares:
    traefik-auth:
      basicAuth:
        users:
          - "{{ traefik_basic_auth_user }}:{{ traefik_basic_auth_password_hash }}"

